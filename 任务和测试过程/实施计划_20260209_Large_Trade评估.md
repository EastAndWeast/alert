# Large Trade (手数) 需求评估计划

基于客户原始需求与当前系统设计的对比分析，现提出以下评估结论与后续动作建议。

## 需求评估结论

### 1. 客户需求满足能力
- [x] **多平台监控**: 系统已设计支持 MT4 Manager API 与 MT5 Deals 数据源。
- [x] **实时告警**: 捕获成交后立即进行阈值判断并推送。
- [x] **参数可调**: 支持手数阈值及监控品种筛选。

### 2. 设计合理性评估
- **无过度设计**: 现有参数（品种过滤、模拟盘忽略、告警渠道）均紧贴风控业务实战场景。
- **技术路径**: 采用 Manager API 方式优于 EA，更符合系统后台独立运行的架构。

## 待核实与改进项

> [!IMPORTANT]
> **功能缺失补齐**: 
> 方案文档提到了 `White_List` (白名单账户)，但目前前端 UI 未提供输入，建议在 `RulesModule.renderRuleForm` 中增加此项。

> [!NOTE]
> **核心语义确认**:
> 需与客户确认“手数达到”是指“单笔成交”还是“单产品总持仓”。当前系统默认为**单笔成交**。

## 验证计划 (后续如需修改代码)

### 自动化测试
- 模拟 MT4/MT5 数据源推送大额/小额成交，验证 `RulesModule` 的触发逻辑。

### 手动验证
- 在前端 UI 创建 `Large Trade (Lots)` 规则，验证参数保存与展示是否正确。
- 检查 `ignore_demo` 开关在不同账户类型下的行为表现。
