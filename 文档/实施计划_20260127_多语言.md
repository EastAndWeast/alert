# 实施计划 - 多语言切换功能 (中文/英文)

本项目目前主要以中文显示，目标是实现双语切换功能（中文/英文），默认语言为中文。

## 方案设计

我们将利用现有的 `js/i18n.js` 进行扩展，采用基于 `data-i18n` 属性的静态文本翻译方案，并结合 `I18n.t()` 函数处理 JS 动态生成的文本。

### 核心修改点
1.  **修正语言默认值**: 将 `js/i18n.js` 中的默认语言由 `en` 改为 `zh`。
2.  **词条提取与扩展**: 扫描 HTML 和 JS 文件，提取所有中文硬编码文本，整理成 JSON 格式的词条库存入 `js/i18n.js`。
3.  **DOM 自动化翻译**: 增强 `I18n.apply()`，使其能够遍历带有 `data-i18n` 属性的元素并自动更新其 textContent 或 placeholder。
4.  **模块适配**: 修改 `rules.js`, `alerts.js`, `login.js` 等模块，将直接输出的中文替换为多语言调用。

---

## 拟进行的更改

### 基础配置

#### [MODIFY] [i18n.js](file:///c:/Users/haido/Desktop/HexPay/3.AI/Google%20antigravity/18.Alert%E9%A1%B9%E7%9B%AE%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90/trading-risk-admin/js/i18n.js)
- 修改 `currentLang` 逻辑：优先从 `localStorage` 获取，缺失则默认为 `zh`。
- 补充 `texts.zh` 和 `texts.en` 的完整词条。
- 实现 `I18n.updatePage()` 工具函数，用于全页面扫描翻译。

### 页面改造

#### [MODIFY] [login.html](file:///c:/Users/haido/Desktop/HexPay/3.AI/Google%20antigravity/18.Alert%E9%A1%B9%E7%9B%AE%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90/trading-risk-admin/login.html)
- 为标题、标签、输入框占位符添加 `data-i18n` 属性。
- 引入 `js/i18n.js` 并调用初始化。

#### [MODIFY] [index.html](file:///c:/Users/haido/Desktop/HexPay/3.AI/Google%20antigravity/18.Alert%E9%A1%B9%E7%9B%AE%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90/trading-risk-admin/index.html)
- 标记侧边栏导航、面包屑、表格头、弹窗按钮等所有包含中文的元素。

### 业务逻辑适配

#### [MODIFY] [js/modules/*.js](file:///c:/Users/haido/Desktop/HexPay/3.AI/Google%20antigravity/18.Alert%E9%A1%B9%E7%9B%AE%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90/trading-risk-admin/js/modules/)
- 批量处理各个子模块中的硬编码文本。

---

## 验证计划

### 自动化测试
- 无（本项目为纯原生静态项目，缺乏自动化测试框架）。

### 手动验证
1.  **登录页验证**: 刷新登录页，确认默认显示中文。点击（后续将添加的）语言切换按钮，确认即时切换到英文。
2.  **主框架验证**: 确认侧边栏、顶部栏、面包屑在切换后能正确显示英文。
3.  **动态内容验证**: 进入“规则管理”或“告警记录”，确认表格标题、操作按钮、提示信息均支持双语。
4.  **持久化验证**: 切换至英文后刷新页面，确认页面仍保持为英文。
